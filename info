#PLANEJAMENTO:

# Duas escolhas de ação: Cadastro/Organização do Produtos do Mercado ou Venda dos Produtos para clientes...
#Foi escolhida as duas ações no sistema mercadinho; Para acessar as ações administradoras, precisar colocar uma senha para passar, e ser for cliente, passa normalmente.

-------------------------------------------------

#COLETA DE INFORMAÇÕES:

# Cadastro de Usuário(0) - Exposição de Produtos(1 - 1.1) - Escolha e Precificação(2) - Finalização e Total:

# 0 = nome, idade e endereço

#1 = Categorias: Congelados, Higiene Pessoal, Limpeza, Alimentos não Perecíveis/Enlatados, Alimentos Perecíveis/Embalados, Bebidas, Hortifrúti;

#1.1 = Produtos: Alimentos Congelados: pizza, peixe, frango; Itens de Higiene Pessoal: creme dental, Papel Higiênico, Sabonete; Itens de Limpeza = Sabão em pó, Detergente,
#Água sanitária;Alimentos não Perecíveis/Enlatados = Feijão, Arroz, Macarrão; Alimentos Perecíveis/Embalados: Ketchup, Iorgute, Creme de Leite;  Bebidas: Coca-cola, Água, Skyy,
#Red Label; Hortifrúti: Maçã, Batata, Alface, Cebola;

#2 = 1 . Pizza: R$14,99; Filé De Peixe: R$16,98; Peito de Frango: R$09,68;
# 2 . Creme Dental: R$03,29; Papel Higiênico: R$17,45; Sabonete Lavanda: R$02,19;
# 3 . Sabão em pó: R$14,99; Detergente: R$03,40; Água sanitária: R$04,40;
# 4 . Feijão: R$07,29; Arroz: R$05,59; Macarrão: R$03,49;
# 5 . Ketchup: R$07,77; Iorgute: R$16,99; Creme de Leite: R$02,89;
# 6 . Coca-cola: R$06,49; Água Mineral: R$02,39; Vodka Skyy: R$35,14; Red Label: R$42,90;
# 7 . Maçã: R$12,90; Batata Inglesa(1kg): R$05,80; Alface: R$06,99; Cebola: R$02,39;

ADAPTAR CODE:

# ... (código anterior)

if infoCliente == "s":
    print("Agora vamos prosseguir para a etapa da venda.")

    carrinho = {}  # Dicionário para armazenar os produtos selecionados pelo cliente
    idade_cliente = int(idade)  # Converte a idade do cliente para um número inteiro

    while True:
        print("\nMENU DE VENDA:")
        print("1. Listar Categorias")
        print("2. Ver Carrinho")
        print("3. Finalizar Compra")
        print("4. Sair")

        opcao_venda = input("Escolha uma opção (1/2/3/4): ")

        if opcao_venda == "1":
            print("\nCategorias Disponíveis:")
            for i, categoria in enumerate(pd.categorias, 1):
                print(f"{i}. {categoria}")

            categoria_escolhida = input("Escolha a categoria (1 a 7): ")
            if categoria_escolhida.isdigit():
                categoria_escolhida = int(categoria_escolhida)
                if 1 <= categoria_escolhida <= len(pd.categorias):
                    categoria_escolhida = pd.categorias[categoria_escolhida - 1]
                else:
                    print("Número de categoria inválido.")
                    continue
            categoria_escolhida = categoria_escolhida.capitalize()

            if categoria_escolhida in pd.categorias:
                print(f"\nProdutos na categoria '{categoria_escolhida}':")
                produtos_categoria = pd.prod_categoria[categoria_escolhida]
                for i, produto in enumerate(produtos_categoria, 1):
                    preco = pd.preco_prod[produto]
                    print(f"{i}. {produto} (R${preco:.2f})")

                escolha_produto = input("Escolha o número do produto que deseja comprar (ou 's' para sair): ")
                if escolha_produto == 's':
                    continue

                if escolha_produto.isdigit():
                    escolha_produto = int(escolha_produto)
                    if 1 <= escolha_produto <= len(produtos_categoria):
                        produto_selecionado = produtos_categoria[escolha_produto - 1]
                        preco_produto = pd.preco_prod[produto_selecionado]

                        # Verifica se o produto selecionado é uma bebida alcoólica
                        if produto_selecionado in ("Vodka Skyy", "Red Label") and idade_cliente < 18:
                            print("Você não tem idade suficiente para comprar bebidas alcoólicas.")
                            continue

                        quantidade_desejada = int(input("Digite a quantidade desejada: "))
                        if quantidade_desejada <= pd.quantidade_prod[produto_selecionado]:
                            if produto_selecionado in carrinho:
                                carrinho[produto_selecionado]["quantidade"] += quantidade_desejada
                            else:
                                carrinho[produto_selecionado] = {
                                    "preco": preco_produto,
                                    "quantidade": quantidade_desejada
                                }
                            pd.quantidade_prod[produto_selecionado] -= quantidade_desejada
                            print(f"{quantidade_desejada} unidades de {produto_selecionado} foram adicionadas ao carrinho.")
                        else:
                            print("Quantidade indisponível.")
                    else:
                        print("Número de produto inválido.")
                else:
                    print("Opção inválida. Tente novamente.")
            else:
                print("Categoria não encontrada.")

        # Resto do código permanece o mesmo...

# ... (código posterior)
